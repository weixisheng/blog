<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>npm脚手架 | hishion blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/blog/img/favicon.ico">
    <meta name="description" content="web front-end development engineer">
    <meta name="title" content="hishion blog">
    <meta name="keywords" content="小程序,Vue,uni-app,LESS/SCSS,Git">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/blog/assets/css/0.styles.85454e8d.css" as="style"><link rel="preload" href="/blog/assets/js/app.17d93a93.js" as="script"><link rel="preload" href="/blog/assets/js/2.d5810a70.js" as="script"><link rel="preload" href="/blog/assets/js/31.d027670c.js" as="script"><link rel="preload" href="/blog/assets/js/13.5647b041.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.a2c8b9d7.js"><link rel="prefetch" href="/blog/assets/js/11.6316d0fd.js"><link rel="prefetch" href="/blog/assets/js/12.927e97fe.js"><link rel="prefetch" href="/blog/assets/js/14.2ae9363a.js"><link rel="prefetch" href="/blog/assets/js/15.00f0b12c.js"><link rel="prefetch" href="/blog/assets/js/16.cf70fbc0.js"><link rel="prefetch" href="/blog/assets/js/17.03f65a2a.js"><link rel="prefetch" href="/blog/assets/js/18.eab9c888.js"><link rel="prefetch" href="/blog/assets/js/19.41e2fb9c.js"><link rel="prefetch" href="/blog/assets/js/20.a81ff0d7.js"><link rel="prefetch" href="/blog/assets/js/21.8f4e6ef9.js"><link rel="prefetch" href="/blog/assets/js/22.33273307.js"><link rel="prefetch" href="/blog/assets/js/23.b9ccad42.js"><link rel="prefetch" href="/blog/assets/js/24.925b6f8f.js"><link rel="prefetch" href="/blog/assets/js/25.09121221.js"><link rel="prefetch" href="/blog/assets/js/26.93b4179f.js"><link rel="prefetch" href="/blog/assets/js/27.248627a6.js"><link rel="prefetch" href="/blog/assets/js/28.a76943a2.js"><link rel="prefetch" href="/blog/assets/js/29.56872daa.js"><link rel="prefetch" href="/blog/assets/js/3.c69e6cb7.js"><link rel="prefetch" href="/blog/assets/js/30.175b2658.js"><link rel="prefetch" href="/blog/assets/js/32.040794e0.js"><link rel="prefetch" href="/blog/assets/js/33.dd9eea2e.js"><link rel="prefetch" href="/blog/assets/js/34.2b31e291.js"><link rel="prefetch" href="/blog/assets/js/35.009bbce8.js"><link rel="prefetch" href="/blog/assets/js/36.ecb36989.js"><link rel="prefetch" href="/blog/assets/js/37.282a8534.js"><link rel="prefetch" href="/blog/assets/js/38.e29d954d.js"><link rel="prefetch" href="/blog/assets/js/39.e071deb9.js"><link rel="prefetch" href="/blog/assets/js/4.20ff38eb.js"><link rel="prefetch" href="/blog/assets/js/40.e30e040e.js"><link rel="prefetch" href="/blog/assets/js/41.f9beaf4c.js"><link rel="prefetch" href="/blog/assets/js/42.631fa7df.js"><link rel="prefetch" href="/blog/assets/js/43.de052ada.js"><link rel="prefetch" href="/blog/assets/js/44.b9d90c8b.js"><link rel="prefetch" href="/blog/assets/js/45.9edc6da4.js"><link rel="prefetch" href="/blog/assets/js/46.43221d60.js"><link rel="prefetch" href="/blog/assets/js/47.70bd2046.js"><link rel="prefetch" href="/blog/assets/js/48.f2da250c.js"><link rel="prefetch" href="/blog/assets/js/49.db6466ad.js"><link rel="prefetch" href="/blog/assets/js/5.413bc4a0.js"><link rel="prefetch" href="/blog/assets/js/50.465c1401.js"><link rel="prefetch" href="/blog/assets/js/51.25711c0b.js"><link rel="prefetch" href="/blog/assets/js/52.c3dd4c01.js"><link rel="prefetch" href="/blog/assets/js/53.c398474b.js"><link rel="prefetch" href="/blog/assets/js/54.1ff939f2.js"><link rel="prefetch" href="/blog/assets/js/55.d00053e3.js"><link rel="prefetch" href="/blog/assets/js/56.4978060f.js"><link rel="prefetch" href="/blog/assets/js/57.b9b8c161.js"><link rel="prefetch" href="/blog/assets/js/58.d67ad12f.js"><link rel="prefetch" href="/blog/assets/js/59.3a1f358e.js"><link rel="prefetch" href="/blog/assets/js/6.747c84d7.js"><link rel="prefetch" href="/blog/assets/js/60.7b70acc9.js"><link rel="prefetch" href="/blog/assets/js/61.43c54fc8.js"><link rel="prefetch" href="/blog/assets/js/62.d27744a0.js"><link rel="prefetch" href="/blog/assets/js/63.73378bfc.js"><link rel="prefetch" href="/blog/assets/js/64.060c996e.js"><link rel="prefetch" href="/blog/assets/js/65.747c9a84.js"><link rel="prefetch" href="/blog/assets/js/66.2a577ef9.js"><link rel="prefetch" href="/blog/assets/js/67.94620d6a.js"><link rel="prefetch" href="/blog/assets/js/68.3cf29532.js"><link rel="prefetch" href="/blog/assets/js/69.9e992128.js"><link rel="prefetch" href="/blog/assets/js/7.7a113c37.js"><link rel="prefetch" href="/blog/assets/js/70.0bf5d79a.js"><link rel="prefetch" href="/blog/assets/js/71.3c940d64.js"><link rel="prefetch" href="/blog/assets/js/72.b39fd551.js"><link rel="prefetch" href="/blog/assets/js/73.b22cb822.js"><link rel="prefetch" href="/blog/assets/js/74.f06bc4d1.js"><link rel="prefetch" href="/blog/assets/js/75.b7bdb0f0.js"><link rel="prefetch" href="/blog/assets/js/76.1dab014e.js"><link rel="prefetch" href="/blog/assets/js/77.7edba438.js"><link rel="prefetch" href="/blog/assets/js/8.eb2c369b.js"><link rel="prefetch" href="/blog/assets/js/9.8d45fb33.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.85454e8d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">hishion blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="文章" class="dropdown-title"><span class="title">文章</span> <span class="arrow down"></span></button> <button type="button" aria-label="文章" class="mobile-dropdown-title"><span class="title">文章</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/basic/" class="nav-link">
  前端基础
</a></li><li class="dropdown-item"><!----> <a href="/blog/mp/" class="nav-link">
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/blog/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/blog/uni/life.html" class="nav-link">
  uni-app
</a></li><li class="dropdown-item"><!----> <a href="/blog/scss/" class="nav-link">
  SCSS/LESS
</a></li><li class="dropdown-item"><!----> <a href="/blog/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/blog/standard/" class="nav-link">
  前端编码规范
</a></li><li class="dropdown-item"><!----> <a href="/blog/tool/" class="nav-link router-link-active">
  工具
</a></li><li class="dropdown-item"><!----> <a href="/blog/http/" class="nav-link">
  网络
</a></li><li class="dropdown-item"><!----> <a href="/blog/linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/blog/graphql/" class="nav-link">
  GraphQL
</a></li><li class="dropdown-item"><!----> <a href="/blog/other/" class="nav-link">
  其他
</a></li></ul></div></div><div class="nav-item"><a href="https://gitee.com/hishion.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/weixisheng" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="文章" class="dropdown-title"><span class="title">文章</span> <span class="arrow down"></span></button> <button type="button" aria-label="文章" class="mobile-dropdown-title"><span class="title">文章</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/basic/" class="nav-link">
  前端基础
</a></li><li class="dropdown-item"><!----> <a href="/blog/mp/" class="nav-link">
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/blog/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/blog/uni/life.html" class="nav-link">
  uni-app
</a></li><li class="dropdown-item"><!----> <a href="/blog/scss/" class="nav-link">
  SCSS/LESS
</a></li><li class="dropdown-item"><!----> <a href="/blog/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/blog/standard/" class="nav-link">
  前端编码规范
</a></li><li class="dropdown-item"><!----> <a href="/blog/tool/" class="nav-link router-link-active">
  工具
</a></li><li class="dropdown-item"><!----> <a href="/blog/http/" class="nav-link">
  网络
</a></li><li class="dropdown-item"><!----> <a href="/blog/linux/" class="nav-link">
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/blog/graphql/" class="nav-link">
  GraphQL
</a></li><li class="dropdown-item"><!----> <a href="/blog/other/" class="nav-link">
  其他
</a></li></ul></div></div><div class="nav-item"><a href="https://gitee.com/hishion.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/weixisheng" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>小程序</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>SCSS/LESS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Git知识</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端规范</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>工具</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/tool/" aria-current="page" class="sidebar-link">markdown语法</a></li><li><a href="/blog/tool/vscode.html" class="sidebar-link">VSCode</a></li><li><a href="/blog/tool/hbuilder.html" class="sidebar-link">HBuilder</a></li><li><a href="/blog/tool/extensions.html" class="sidebar-link">扩展程序</a></li><li><a href="/blog/tool/cmder.html" class="sidebar-link">Cmder</a></li><li><a href="/blog/tool/mirror.html" class="sidebar-link">镜像</a></li><li><a href="/blog/tool/npm.html" class="sidebar-link">npm发包</a></li><li><a href="/blog/tool/cli.html" aria-current="page" class="active sidebar-link">自定义脚手架</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/tool/cli.html#起步" class="sidebar-link">起步</a></li><li class="sidebar-sub-header"><a href="/blog/tool/cli.html#开发" class="sidebar-link">开发</a></li><li class="sidebar-sub-header"><a href="/blog/tool/cli.html#调试" class="sidebar-link">调试</a></li><li class="sidebar-sub-header"><a href="/blog/tool/cli.html#发布" class="sidebar-link">发布</a></li></ul></li><li><a href="/blog/tool/iconfont.html" class="sidebar-link">字体文件转base64</a></li><li><a href="/blog/tool/autocmd.html" class="sidebar-link">自动cmd命令</a></li><li><a href="/blog/tool/yarn.html" class="sidebar-link">yarn命令</a></li><li><a href="/blog/tool/package-version.html" class="sidebar-link">package version说明</a></li><li><a href="/blog/tool/debug.html" class="sidebar-link">移动端调试工具</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux知识</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>GraphQL</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>网络知识</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>其他</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="npm脚手架"><a href="#npm脚手架" class="header-anchor">#</a> npm脚手架</h1> <p>项目开发过程中， 经过版本迭代，项目变得越来越大，结构也越来越复杂。这时候，如果想创建一个新项目，要么是基于既有项目复制，然后删除、修改，要么是直接从头开始创建， 两种方式虽然能达到目的，但是费时费力，<span class="base-tag--link base-tag--primary base-tag--medium base-tag" data-v-8599edd0><a href="https://cli.vuejs.org/zh/guide/" target="_blank" class="text" data-v-8599edd0>
    vue-cli
  </a></span> 脚手架就是一个基于<span class="base-tag--link base-tag--success base-tag--medium base-tag" data-v-8599edd0><a href="https://cn.vuejs.org/v2/guide/" target="_blank" class="text" data-v-8599edd0>
    Vue.js
  </a></span>进行快速开发的完整系统，提供丰富的功能和配置大大降低了创建项目难度。</p> <p>为此，我们可以通过自定义一个脚手架，实现简单拉取模板的功能，一定程度上 <s>（可以愉快地摸鱼）</s> 降低创建项目工作量。</p> <p>部分知识同 <a href="/blog/tool/npm.html">npm发包</a>，因此本篇不再赘述，以<span class="base-tag--link base-tag--danger base-tag--medium base-tag" data-v-8599edd0><a href="https://www.npmjs.com/package/hishion-cli" target="_blank" class="text" data-v-8599edd0>
    hishion-cli
  </a></span>为例重点介绍如何开发。</p> <h2 id="起步"><a href="#起步" class="header-anchor">#</a> 起步</h2> <p>项目中用到的一些依赖，这里先简单了解一下。</p> <p><strong>注意</strong>：项目中的依赖需要安装在 <code>dependencies</code> 中，即：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> <span class="token operator">&lt;</span>package<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">chalk</p> <p><a href="https://www.npmjs.com/package/chalk" target="_blank" rel="noopener noreferrer">chalk<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ：可以美化终端输出。</p></div> <div class="custom-block tip"><p class="custom-block-title">commander</p> <p><a href="https://www.npmjs.com/package/commander" target="_blank" rel="noopener noreferrer">commander<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ：node.js的命令行，可以解析命令和参数，处理用户输入。</p></div> <div class="custom-block tip"><p class="custom-block-title">download-git-repo</p> <p><a href="https://www.npmjs.com/package/download-git-repo" target="_blank" rel="noopener noreferrer">download-git-repo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ：下载并提取git仓库。</p></div> <div class="custom-block tip"><p class="custom-block-title">inquirer</p> <p><a href="https://www.npmjs.com/package/inquirer" target="_blank" rel="noopener noreferrer">inquirer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ：常见的交互式命令行用户界面的集合。</p></div> <div class="custom-block tip"><p class="custom-block-title">log-symbols</p> <p><a href="https://www.npmjs.com/package/log-symbols" target="_blank" rel="noopener noreferrer">log-symbols<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ：根据日志输出不同等级标志。</p></div> <div class="custom-block tip"><p class="custom-block-title">ora</p> <p><a href="https://www.npmjs.com/package/ora" target="_blank" rel="noopener noreferrer">ora<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ：终端loading效果。</p></div> <h2 id="开发"><a href="#开发" class="header-anchor">#</a> 开发</h2> <p>文件目录如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>|-- root  
  |-- bin  
    |-- index.js
  |-- commands
    |-- init.js
  |-- lib
    |-- message.js
  |-- package.json  
  |-- README.md  
  |-- templates.json  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li>package.json</li></ul> <p><code>package.json</code> 中的 <code>bin</code> 字段可以映射本地执行文件，在安装时，<code>npm</code> 将把该映射到全局安装的 <code>prefix/bin</code> 中，或者本地安装的 <code>./node_ modules/.bin</code>。
可以如下配置：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">&quot;bin&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string">&quot;hishion-cli&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./bin/index.js&quot;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 如果单一的执行文件，并且是包名</span>
<span class="token string">&quot;bin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./bin/index.js&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>bin/index.js</li></ul> <p>入口文件，处理命令行逻辑，可以在这里处理子命令。</p> <p>确保 <code>bin</code> 引用的文件以 <code>#!/usr/bin/env node</code> 开头，指定用<span class="base-tag--success base-tag--medium base-tag" data-v-8599edd0><span class="text" data-v-8599edd0>node</span></span>执行脚本，配置用于解决不同用户的 <code>node</code> 路径不同问题，让系统动态去查找 <code>node</code> 来执行脚本。如果报错 <code>no such file or directory</code>，是因为没有把 <code>node</code> 安装路径添加到系统 <code>PATH</code> 中，去配置下环境变量即可。</p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token hashbang comment">#!/usr/bin/env node</span>

process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_PATH</span> <span class="token operator">=</span> __dirname <span class="token operator">+</span> <span class="token string">'/../node_modules/'</span>

<span class="token keyword">const</span> program <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'commander'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> pkg <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../package.json'</span><span class="token punctuation">)</span>

program<span class="token punctuation">.</span><span class="token function">version</span><span class="token punctuation">(</span>pkg<span class="token punctuation">.</span>version<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">usage</span><span class="token punctuation">(</span><span class="token string">'&lt;command&gt; [options]'</span><span class="token punctuation">)</span>

program<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token string">'init'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">description</span><span class="token punctuation">(</span><span class="token string">'create a uni-cli project'</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">action</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../commands/init'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

program<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>argv<span class="token punctuation">)</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>program<span class="token punctuation">.</span>args<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  program<span class="token punctuation">.</span><span class="token function">help</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>这里我们定义了一个 <code>init</code> 的命令，这个命令会执行 <code>commands/init.js</code> 的子命令。</p> <ul><li>commands/init.js</li></ul> <p>子命令 <code>init</code> 入口，分4步简单说明。</p> <ol><li>基础引入</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span>
  prompt
<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'inquirer'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> program <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'commander'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> message <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../lib/message'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> download <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'download-git-repo'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> ora <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'ora'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ol start="2"><li>交互配置</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> templates <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'../templates'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> question <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
  type<span class="token operator">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span> <span class="token string">'name'</span><span class="token punctuation">,</span>
  message<span class="token operator">:</span> <span class="token string">'project name'</span><span class="token punctuation">,</span>
  <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">'uni-template'</span><span class="token punctuation">,</span>
  <span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> val<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">validate</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> validate <span class="token operator">=</span> <span class="token punctuation">(</span>val<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> validate <span class="token operator">||</span> <span class="token string">'project name is not allowed to have spaces.'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">transformer</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> val <span class="token operator">||</span> <span class="token string">'uni-template'</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> question2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">'input'</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">'description'</span><span class="token punctuation">,</span>
    message<span class="token operator">:</span> <span class="token string">'project description'</span><span class="token punctuation">,</span>
    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">'uni-app project'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    type<span class="token operator">:</span> <span class="token string">'list'</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> <span class="token string">'template'</span><span class="token punctuation">,</span>
    message<span class="token operator">:</span> <span class="token string">'which template?'</span><span class="token punctuation">,</span>
    choices<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'uni'</span><span class="token punctuation">,</span> <span class="token string">'wepy'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">'uni'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><ol start="3"><li>执行入口</li></ol> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 项目名称</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> projectName
  <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">prompt</span><span class="token punctuation">(</span>question<span class="token punctuation">)</span>
  <span class="token keyword">const</span> rootName <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">basename</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span><span class="token function">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 当前目录</span>
  <span class="token keyword">const</span> list <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readdirSync</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span><span class="token function">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 当前目录列表</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>list<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 目录不为空，且存在于projectName同名目录，提示已存在，结束</span>
      <span class="token keyword">let</span> isExist <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token parameter">name</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> fileName <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span><span class="token function">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span>
        <span class="token keyword">const</span> isDir <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">statSync</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> name <span class="token operator">===</span> projectName <span class="token operator">&amp;&amp;</span> isDir
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>isExist<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">项目</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>projectName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">已存在</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
        process<span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    process<span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">create</span><span class="token punctuation">(</span>projectName<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><ol start="4"><li>创建下载</li></ol> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token parameter">projectName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span>
      description<span class="token punctuation">,</span>
      template
    <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">prompt</span><span class="token punctuation">(</span>question2<span class="token punctuation">)</span>
    <span class="token keyword">const</span> gitPlace <span class="token operator">=</span> templates<span class="token punctuation">[</span>template<span class="token punctuation">]</span><span class="token punctuation">.</span>path

    <span class="token keyword">const</span> spinner <span class="token operator">=</span> <span class="token function">ora</span><span class="token punctuation">(</span><span class="token string">'Downloading please wait...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    spinner<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 非GitHub, GitLab, Bitbucket的仓库使用clone</span>
    <span class="token function">download</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>gitPlace<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">./</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>projectName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      clone<span class="token operator">:</span> gitPlace<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'uni'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
        process<span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>

      fs<span class="token punctuation">.</span><span class="token function">readFile</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">./</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>projectName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/package.json</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token string">'utf8'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          spinner<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
          <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">const</span> packageJson <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        packageJson<span class="token punctuation">.</span>name <span class="token operator">=</span> projectName<span class="token punctuation">;</span>
        packageJson<span class="token punctuation">.</span>description <span class="token operator">=</span> description<span class="token punctuation">;</span>

        fs<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">./</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>projectName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/package.json</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>packageJson<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'utf8'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>
          <span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            spinner<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
          <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            spinner<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            message<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">'project init successfully!'</span><span class="token punctuation">)</span>
            message<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>
              <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">cd </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>projectName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token string">'npm install'</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">npm run </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>gitPlace<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'wepy'</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">'dev'</span> <span class="token operator">:</span> <span class="token string">'serve'</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
            </span><span class="token template-punctuation string">`</span></span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    process<span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br></div></div><ul><li>lib/message.js</li></ul> <p>封装 <code>console.log()</code>方法，不详细展开。</p> <ul><li>templates.json</li></ul> <p>这里配置需要 <code>clone</code> 的模板地址。</p> <h2 id="调试"><a href="#调试" class="header-anchor">#</a> 调试</h2> <p>在 <code>cli</code> 目录执行 <code>npm link</code> ，本地关联，之后我们可以简单执行命令查看一下输出：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>λ hishion-cli
Usage: index <span class="token operator">&lt;</span>command<span class="token operator">&gt;</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span>

Options:
  -V, --version   output the version number
  -h, --help      display <span class="token builtin class-name">help</span> <span class="token keyword">for</span> <span class="token builtin class-name">command</span>

Commands:
  init            create a uni-cli project
  <span class="token builtin class-name">help</span> <span class="token punctuation">[</span>command<span class="token punctuation">]</span>  display <span class="token builtin class-name">help</span> <span class="token keyword">for</span> <span class="token builtin class-name">command</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>可以看到命令 <code>commands</code>中除了默认命令外，多了一个 <code>init</code> 的命令。实际中，我们要求的完整命令是</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>λ hishion-cli init
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="data:image/png;base64,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" alt="示例图"></p> <h2 id="发布"><a href="#发布" class="header-anchor">#</a> 发布</h2> <p>调试确认无误之后，可以发布。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> publish
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/tool/npm.html" class="prev">
        npm发包
      </a></span> <span class="next"><a href="/blog/tool/iconfont.html">
        字体文件转base64
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/blog/assets/js/app.17d93a93.js" defer></script><script src="/blog/assets/js/2.d5810a70.js" defer></script><script src="/blog/assets/js/31.d027670c.js" defer></script><script src="/blog/assets/js/13.5647b041.js" defer></script>
  </body>
</html>
